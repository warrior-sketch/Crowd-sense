<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Train Crowd Sense</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    body {
      background: linear-gradient(120deg, #1565c0 0%, #42a5f5 100%) fixed !important;
      font-family: 'Segoe UI', Arial, sans-serif;
      margin: 0;
      color: #fff;
      min-height: 100vh;
    }
    .container {
      max-width: 430px;
      margin: 54px auto;
      padding: 0 14px 20px 14px;
    }
    .glass {
      background: rgba(255,255,255,0.14);
      backdrop-filter: blur(22px);
      border-radius: 28px;
      box-shadow: 0 12px 48px #0d47a161;
      padding: 34px 24px 34px 24px;
      margin-bottom: 32px;
      border: 2px solid #e3f2fd63;
      transition: box-shadow .2s;
      animation: fadein .45s;
    }
    @keyframes fadein {
      from {transform: translateY(24px); opacity:0;}
      to {transform: translateY(0); opacity:1;}
    }
    .nav {
      position: sticky;
      top: 0;
      z-index: 10;
      display: flex;
      justify-content: space-between;
      gap: 4px;
      background: rgba(21,101,192,0.97);
      border-radius: 14px;
      font-size: 20px;
      color: #fff;
      font-weight: 700;
      box-shadow: 0 2px 14px #1856a599;
      margin-bottom: 44px;
      padding: 10px 4px;
    }
    .nav a {
      flex: 1; 
      text-align:center;
      color: #fff;
      text-decoration: none;
      padding: 14px 0;
      margin: 0 2px;
      background: none;
      border-radius: 12px;
      transition: background .23s,color .23s;
      cursor:pointer;
      font-size: 18.5px;
      letter-spacing: .3px;
      display: flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      gap:2px;
    }
    .nav a i {font-size:23px; margin-bottom: 4px;}
    .nav a.active, .nav a:hover {
      background: #e3f2fd;
      color: #1565c0;
    }
    h2 {
      font-size: 28px;
      margin-top: 0;
      color: #fff;
      font-family: inherit;
      text-shadow: 0 2px 8px #1565c012;
      font-weight: 800;
      letter-spacing:.05em;
    }
    label {
      font-weight: 700;
      letter-spacing: .2px;
      margin-bottom: 3px;
      display:block;
      margin-top: 12px;
      font-size:17px;
    }
    input[type=text], select {
      width: 100%;
      padding: 10px 13px;
      border-radius: 7px;
      border: 2px solid #2196f3;
      margin-bottom: 15px;
      font-size: 18px;
      background: #e3f2fd;
      color: #1565c0;
      font-weight: 700;
      outline:none;
      box-shadow: 0 1px 6px #1565c01c;
      transition: border .13s;
    }
    input:focus, select:focus {
      border-color: #42a5f5;
    }
    button {
      background: #1565c0;
      color: #fff;
      font-weight: 700;
      padding: 15px 0 13px 0;
      font-size: 19.5px;
      border-radius: 9px;
      border: none;
      width: 100%;
      cursor: pointer;
      margin: 15px 0 8px 0;
      letter-spacing: .06em;
      box-shadow:0 2px 18px #1565c029;
      transition: background .10s, color .10s, box-shadow .09s;
      opacity:.7;
    }
    button.active, button:focus, button:hover {
      background: #e3f2fd;
      color: #1565c0;
      box-shadow:0 2px 18px #1872c031;
      opacity:1;
    }
    .train-list {
      margin: 13px 0 0 0; padding-left: 0; list-style: none;
      border-radius:14px;box-shadow: 0 1px 8px #1565c030;
      overflow:hidden;
    }
    .train-list li {
      padding: 13px 4px 10px 9px;
      font-weight: 600;
      font-size: 18.5px;
      color: #fff;
      border-bottom: 1px solid #bbdefb4c;
      cursor:pointer;
      display:flex;align-items:center;gap:10px;
      background:rgba(255,255,255,0);
      border-radius:0;
      transition: background .18s, color .15s;
    }
    .train-list li:last-child {border-bottom:none;}
    .train-list li.active, .train-list li:hover {
      background:#e3f2fd;
      color:#1565c0;
    }
    .train-list .label {
      background: #1976d2;
      color:#fff;
      font-size:15px;
      padding:3px 10px;
      border-radius:10px;
      margin-right:12px;
      font-weight: 800;
      letter-spacing: .13em;
    }
    .train-list .tag {font-size:13.7px;color:#90caf9;margin-left:auto;margin-right:10px;}
    .crowd-card {
      background:rgba(255,255,255,0.09);
      border-radius:14px;
      padding:17px 14px 14px 14px;
      margin-bottom:11px;
      box-shadow: 0 2px 22px #1565c036;
    }
    .crowd-barrow {
      display: flex; gap: 12px; justify-content: center; align-items: end;
      margin: 19px 0 8px 0; padding-top:8px;
    }
    .crowd-bar {
      width: 27px;
      border-radius: 9px;
      border: 2px solid #e3f2fd;
      display: flex;
      align-items: flex-end;
      justify-content: center;
      font-size: 16px;
      font-weight: bold;
      margin-bottom: 2px;
      box-shadow: 0 6px 14px #2223;
      transition:height .18s;
      position:relative;
      animation: fadein .68s;
      box-shadow:0 1px 7px #1565c02c;
    }
    .red    {background: #e53935; height: 57px;}
    .yellow {background: #ffc107; height: 36px; color:#222;}
    .green  {background: #43a047; height: 23px;}
    .crowd-guide {
      text-align: center;
      color: #fff;
      font-size: 15px;
      margin-top: 6px;
      font-weight: 600;
      letter-spacing:2.4px;
      text-shadow:0 1px 4px #0d47a12c;
    }
    .crowd-legend span {
      display: inline-block;
      margin-right: 14px;
      padding:7px 14px;
      border-radius: 7px;
      font-weight: 800;
      font-size:16px;
      margin-top:8px;
      background:#fff6;
      letter-spacing:0.1em;
      box-shadow:0 3px 12px #1565c01c;
    }
    .legend-high {background:#e53935;}
    .legend-med {background:#ffc107; color:#222;}
    .legend-low {background:#43a047;}
    .stop-dot {
      display:inline-block;
      width:17px;
      height:17px;
      border-radius:50%;
      background:#2196f3;
      position:relative;
      top:2px;
      margin-right:9px;
      box-shadow:0 0 0 2.5px #fff6;
    }
    .sub {font-size:15px;color:#90caf9;}
    .arrived {font-size:17px;font-style:italic;color:#bbdefb;}
    .crowd-status {
      padding: 9px 21px;
      margin: 15px 0 5px 0;
      background: linear-gradient(87deg,#fff5,#bbdefb52);
      color: #1976d2;
      font-weight:800;
      border-radius:11px;
      box-shadow:0 2px 14px #1976d22d;
      display:flex;justify-content:center;align-items:center;gap:14px;font-size:18px;letter-spacing:.19em;
      animation: fadein .35s;
    }
    .crowd-status .icon {
      font-size:25px;
      color:#e53935;
      vertical-align:middle;
    }
    @media (max-width: 480px){
      .container {margin:15px auto 0 auto;max-width:97vw;padding:1.5vw;}
      .glass{padding:12vw 2vw;}
      .crowd-card{padding:4vw 2vw;}
      h2{font-size:20px;}
      .nav{font-size:15px;}
    }
  </style>
  <!-- For nice icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <div class="container">
    <div class="nav">
      <a href="#info" class="active" onclick="showPage('info')"><i class="fa-solid fa-train"></i><span>Train Info</span></a>
      <a href="#crowd" onclick="showPage('crowd')"><i class="fa-solid fa-users"></i><span>Crowd View</span></a>
    </div>

    <!-- Page 1: Train Info -->
    <div id="info" class="glass">
      <h2><i class="fa-solid fa-route"></i> Select Route & Train</h2>
      <label>From</label>
      <input type="text" value="HOWRAH">
      <label>To</label>
      <input type="text" value="NALIKUL">
      <label>Train No/Name</label>
      <input type="text" placeholder="Optional">
      <b style="font-size:18px;">Available Trains</b>
      <ul class="train-list" id="train-list">
        <li onclick="selectTrain(this,37353,'Tarakeswar LOCAL')"><span class="label">37353</span> 6:10pm - 7:02pm <span class="sub">(Tarakeswar LOCAL)</span> <span class="tag">Recommended</span></li>
        <li onclick="selectTrain(this,33379,'Goghat LOCAL')"><span class="label">33379</span> 6:40pm - 7:32pm <span class="sub">(Goghat LOCAL)</span></li>
        <li onclick="selectTrain(this,33366,'No details')"><span class="label">33366</span> --:-- <span class="sub">(No details)</span></li>
        <li onclick="selectTrain(this,33341,'No details')"><span class="label">33341</span> --:-- <span class="sub">(No details)</span></li>
        <li onclick="selectTrain(this,33318,'No details')"><span class="label">33318</span> --:-- <span class="sub">(No details)</span></li>
        <li onclick="selectTrain(this,33301,'No details')"><span class="label">33301</span> --:-- <span class="sub">(No details)</span></li>
      </ul>
      <button id="crowdBtn" onclick="goCrowd()" disabled>Show Live Crowd</button>
    </div>

    <!-- Page 2: Crowd Detection -->
    <div id="crowd" class="glass" style="display:none;">
      <h2><i class="fa-solid fa-users"></i> Live Crowd Detection</h2>
      <div class="crowd-card">
        <b>Train:</b> <span id="selectedTrain">---</span><br>
        <span class="arrived"><i class="fa-solid fa-location-arrow"></i> Arrived Hariral | Updated just now</span>
        <hr>
        <b>Stops:</b> <br>
        <span class="stop-dot"></span> HARIRAL 6:33PM <br>
        <span class="stop-dot"></span> MALIYA HALT 6:36PM <br>
        <span class="stop-dot"></span> NALIKUL 6:40PM <br>
        <span class="stop-dot"></span> KAMARKUNDU 6:43PM <br>
        <span class="stop-dot"></span> SINGUR 6:45PM <br>
      </div>
      <div class="crowd-status">
        <span class="icon"><i class="fa-solid fa-traffic-light"></i></span>
        <span>High crowd at compartments <b>5 & 4</b>!</span>
      </div>
      <h3 style="margin-bottom:0; margin-top:16px;font-size:20px;letter-spacing:.1em">Crowd Bar</h3>
      <div class="crowd-barrow">
        <div class="crowd-bar green" title="Tail">9</div>
        <div class="crowd-bar green">8</div>
        <div class="crowd-bar yellow">7</div>
        <div class="crowd-bar yellow">6</div>
        <div class="crowd-bar red" title="Most Crowded">5</div>
        <div class="crowd-bar red">4</div>
        <div class="crowd-bar yellow">3</div>
        <div class="crowd-bar green">2</div>
        <div class="crowd-bar green" title="Front">1</div>
      </div>
      <div class="crowd-guide">
        <span>TAIL</span> &nbsp; | &nbsp; <i class="fa-solid fa-train"></i> HWH &nbsp; | &nbsp; <span>FRONT</span>
      </div>
      <div class="crowd-legend" style="margin:15px 0 0 0;">
        <span class="legend-high">High</span>
        <span class="legend-med">Medium</span>
        <span class="legend-low">Low</span>
      </div>
    </div>
  </div>
  <script>
    let selectedTrain = "";
    function showPage(page) {
      document.getElementById('info').style.display = (page === 'info') ? '' : 'none';
      document.getElementById('crowd').style.display = (page === 'crowd') ? '' : 'none';
      document.querySelectorAll('.nav a').forEach(nav => nav.classList.remove('active'));
      document.querySelector('.nav a[href="#'+page+'"]').classList.add('active');
      window.scrollTo(0, 0);
    }
    function selectTrain(elem, num, trainName) {
      selectedTrain = num;
      document.querySelectorAll('#train-list li').forEach(li=>li.classList.remove('active'));
      elem.classList.add('active');
      var crowdBtn = document.getElementById('crowdBtn');
      crowdBtn.disabled = false;
      crowdBtn.classList.add('active');
      crowdBtn.style.opacity = "1";
      document.getElementById('selectedTrain').textContent = num ? num+" ("+trainName+") LIVE crowd" : "---";
    }
    function goCrowd() {
      showPage('crowd');
    }
    // Reset crowd button when swapping tabs
    document.querySelector('.nav a[href="#info"]').addEventListener('click',function(){
      document.getElementById('crowdBtn').disabled = !selectedTrain;
      if(selectedTrain)
          document.getElementById('crowdBtn').classList.add('active');
      else
          document.getElementById('crowdBtn').classList.remove('active');
    });
  </script>
</body>
</html>
